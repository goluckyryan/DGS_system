<html xmlns:d="urn:schemas-cosylab-com:Document">
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Java Installation and Build Process of VisualDCT</title>
<style>.title { color: #CE2B25; font-size: 200% }
h1 { color: #003c8c; text-align: left; margin-top: 2em; margin-bottom: 1em; font-family: Verdana, Arial, Helvetica; TEXT-DECORATION: none; FONT-WEIGHT: normal;}
h2 { color: #CE2B25; text-align: left; font-family: Verdana, Arial, Helvetica; TEXT-DECORATION: none; FONT-WEIGHT: normal;}
h3 { color: #003c8c; text-align: left; font-family: Verdana, Arial, Helvetica; TEXT-DECORATION: none; FONT-WEIGHT: normal;}
h4 { color: #003c8c; text-align: left; font-family: Verdana, Arial, Helvetica; TEXT-DECORATION: none; FONT-WEIGHT: normal;}
h1.toc {
  color: #003c8c;
  font-size: 100%;
  text-align: left;
  margin-left: 2%;
  margin-right: 0%;
  margin-top: 0%;
  margin-bottom: 0%;
  FONT-WEIGHT: bold;
}
h2.toc {
  color: #003c8c;
  font-size: 100%;
  text-align: left;
  margin-left: 4%;
  margin-right: 0%;
  margin-top: 0%;
  margin-bottom: 0%;
}
h3.toc {
  color: #003c8c;
  font-size: 100%;
  text-align: left;
  margin-left: 7%;
  margin-right: 0%;
  margin-top: 0%;
  margin-bottom: 0%;
}
h4.toc {
  color: #003c8c;
  font-size: 100%;
  text-align: left;
  margin-left: 1%;
  margin-right: 0%;
  margin-top: 0%;
  margin-bottom: 0%;
}

body { margin-left: 5%; margin-right: 5% }
p { font-family: Verdana, Arial, Helvetica }
p.table { text-align: left }
p.figure { text-align: center }
p { text-align: justify }
p.comment { color: red; margin-left: 10%; margin-right: 10% }
ol { font-family: verdana,sans-serif; margin-left: 5%; margin-right: 5% }
ul { font-family: verdana,sans-serif; margin-left: 5%; margin-right: 5% }
pre { background: #F0F0F0 }
table { width: 100% }
th { 
  padding: 0.1cm;
  background: #CACAD4; 
  text-align: center; 
  border-style: solid; 
  border-width: 0.02cm 
}
th.header { background: #D0D0D0 }
td { padding: 0.1cm; border-style: solid; border-width: 0.02cm }
tr.reviewAccepted { background: #D0FFD0 }
tr.reviewRejected { background: #FFD0D0 }
tr.retirement { background: black; color: white }
span.menu { color: white; background: #787996; font-family: tahoma; font-size: 80% }
span.gui {
  border-left-width: 0.025cm;
  border-top-width: 0.025cm;
  border-right-width: 0.04cm;
  border-bottom-width: 0.04cm;
  border-style: solid;
  font-family: tahoma;
  font-size: 80%
}
span.keystroke {            
  border-style: groove;
  border-color: #E0E0E0;
  font-family: tahoma;
  font-size: 70%
}
span.emphasis {
  font-style: italic
}
span.bold {
  font-weight: bold          
}
tt.filename { font-family: tahoma }
tt.keyword { font-weight: bold }
tt.command { font-family: tahoma; font-weight: bold }

.description 
{
  text-align: center
}

p.warning
{
  background-color: #E0E0E0;
}

p.warning table tr td
{
  border-width: 0.02cm; 
  border-color: red;
}

p.notice
{
  background-color: #F0F0F0;
}

p.notice table tr td
{
  border-style: none;
}
</style>
</head>
<body>
<p class="table">
<table>
<tr>
<th class="title" colspan="2">Java Installation and Build Process of VisualDCT</th>
</tr>
<tr>
<th class="projectInfo">Project:</th><td>VisualDCT-Common&nbsp;</td>
</tr>
<tr>
<th class="projectInfo">Classification:</th><td>User's Documentation</td>
</tr>
<tr>
<th class="projectInfo">Identification:</th><td><tt>CSL-DOC-02-000042</tt></td>
</tr>
<tr>
<th colspan="2">Copyright &copy; 2002 by Cosylab Ltd. All Rights Reserved.</th>
</tr>
</table>
</p>
<h2>Document History</h2>
<p class="table">
<table>
<tr>
<th>Revision</th><th>Date</th><th>Author</th><th>Section</th><th>Modification</th>
</tr>
<tr>
<td rowspan="2">1.0</td><td rowspan="2">2002-07-02</td><td rowspan="2"><a href="mailto:matej.sekoranja@cosylab.com">Matej Sekoranja</a></td>
</tr>
<tr>
<td>all</td><td>Created.</td>
</tr>
<tr>
<td rowspan="2">1.1</td><td rowspan="2">2002-07-09</td><td rowspan="2"><a href="mailto:matej.sekoranja@cosylab.com">Matej Sekoranja</a></td>
</tr>
<tr>
<td><a href="#build">4.</a></td><td id="build">Updated.</td>
</tr>
<tr>
<td>1.1</td><td>2002-07-10</td><td><a href="mailto:matej.sekoranja@cosylab.com">Matej Sekoranja</a></td><td colspan="2"><b>Released</b></td>
</tr>
</table>
</p>
<h2>Scope</h2>
<p>
<scope xmlns="urn:schemas-cosylab-com:Document">
			This document is a users guide to installing the Java software necessary to perform builds of VisualDCT project.
			The instructions include steps needed to set up Eclipse IDE, 3rd party software and explanation of how Ant build files are used.
		</scope>
</p>
<h2>Confidentiality</h2>
<p>
          This document is classified as a <b>public document</b>.
          Redistribution and use, with or without modification, are permitted provided that:
          <ol>
<li>the copyright notice is retained</li>
<li>a reference to the original document is made in case of modifications</li>
<li>this document may not be distributed for profit except as explicitly permitted by valid licenses.</li>
</ol>
</p>
<h2>
<a name="Audience">Audience</a>
</h2>
<p>
<audience xmlns="urn:schemas-cosylab-com:Document">
			The audience of this document are all developers wishing to build VisualDCT project.
		</audience>
</p>
<h2>References</h2>
<p class="table">
<table>
<tr>
<th>ID</th><th>Author</th><th>Reference</th><th>Revision</th><th>Date</th><th>Publisher</th>
</tr>
<tr>
<td><a name="cosy_java_installation">1</a></td><td>Gasper Tkacik</td><td><a href="http://visualdct.cosylab.com/builds/VisualDCT/">Java Installation and Build Process HowTo</a></td><td>1.2</td><td>2002</td><td>Cosylab</td>
</tr>
<tr>
<td><a name="eclipse">2</a></td><td>IBM Corporation and others</td><td><a href="http://www.eclipse.org/">Eclipse Project</a></td><td>2.0</td><td>2002</td><td>IBM Corporation and others</td>
</tr>
<tr>
<td><a name="ant">3</a></td><td>Jakarta ANT Team</td><td><a href="http://jakarta.apache.org/ant/index.html">ANT Homepage</a></td><td>1.4.1</td><td>2001</td><td>Apache Software Foundation</td>
</tr>
<tr>
<td><a name="junit">4</a></td><td>GPL</td><td><a href="http://sourceforge.net/projects/junit/">JUnit Testing Framework</a></td><td>3.7</td><td>2002</td><td>Sourceforge.net</td>
</tr>
<tr>
<td><a name="styler">5</a></td><td>Langdale</td><td><a href="http://www.langdale.com.au/styler/">Styler ANT Task</a></td><td>1.0</td><td>2002</td><td>Langdale</td>
</tr>
<tr>
<td><a name="mmysql">6</a></td><td>GPL</td><td><a href="http://sourceforge.net/projects/mmmysql/">MySQL JDBC driver</a></td><td>2.0.11</td><td>2002</td><td>Sourceforge.net</td>
</tr>
</table>
</p>
<h2>
<a name="toc">Table of Contents</a>
</h2>
<a href="#intro">
<h1 class="toc">1. Introduction</h1>
</a><a href="#3rdparty">
<h1 class="toc">2. 3rd Party Software</h1>
</a><a href="#eclipse">
<h1 class="toc">3. Eclipse installation</h1>
</a><a href="#build">
<h1 class="toc">4. Build Process</h1>
</a><a href="#build-files">
<h2 class="toc">4.1. Manual builds</h2>
</a><a href="#build-files-eclipse">
<h3 class="toc">4.1.1. Configuring Eclipse</h3>
</a><a href="#config-ant">
<h3 class="toc">4.1.2. Configuring Ant</h3>
</a><a href="#build-files-xml">
<h3 class="toc">4.1.3. Writing Ant build file</h3>
</a><a href="#build-versioning-filenames">
<h4 class="toc">4.1.3.1. Versioning and file names</h4>
</a><a href="#build-params">
<h4 class="toc">4.1.3.2. Build Parameters</h4>
</a><a href="#build-targets">
<h4 class="toc">4.1.3.3. Build Targets</h4>
</a><a href="#conclusion">
<h1 class="toc">5. Conclusion</h1>
</a>
<h2>How to Read this Document</h2>
<p>
       This document's meta-information (authors, revision history, table of contents, ...) can be found above.
       What follows below is the body of the document.
       The body is composed of several sections, which may be further composed of subsections.
     </p>
<p>
       Typographical styles are used to denote entities of different kinds.
       For a full list of entities and their respective typographic conventions, please refer to the <a href="../../Management/Documentation/XML_Documentation.xml#xmlContentStyles">Styles section of the XML Documentation</a> document.
     </p>
<p>
       When viewing the document in a non-printed form, it is possible to submit comments regarding a given section to the document's owner.
       This is achieved by clicking the mail icon next to the section title.
       For this to work, your mail must be configured to properly handle the <tt>mailto</tt> URLs.
     </p>
		
<a name="intro" href="#toc">
<h1>1. &nbsp;Introduction</h1>
</a>
			<p xmlns="urn:schemas-cosylab-com:Document">
				This document is divided into three sections.
				The first section defines the locations of the 3rd party software, such as Sun runtime libraries, extension libraries etc.
				The second section describes the Eclipse (or Websphere) installation and setup.
				The third section describes the use of Ant build files, which are customarily distributed with the VisualDCT project.
			</p>
		
		
		<a name="3rdparty" href="#toc">
<h1>2. &nbsp;3rd Party Software</h1>
</a>
			<p xmlns="urn:schemas-cosylab-com:Document">
				Third party software for Java is needed for two distinct purposes:
				<ul>
					<li>
						<span xmlns="" class="bold">Build process.</span>
						During the build process, the libraries (jar files) are needed, as well as additional utilities, such as compilers, test frameworks, XSLT transformers etc.
					</li>
					<li>
						<span xmlns="" class="bold">Program execution.</span>
						For successful execution of the programs built in the previous phase, a subset of 3rd party software is needed. 
						This subset includes libraries and can include some executables (like stand-alone services), but excludes build tools (compilers and so on).
					</li>
				</ul>
			</p>
			<p xmlns="urn:schemas-cosylab-com:Document">
				Apart from this division based on the use of the 3rd party software, it can also be divided into platform-independent and platform-specific.
				Libraries delivered in jar form together with their documentation and resources form the platform-independent software.
				Executables, such as run-time environments and stand-alone services are usually platform-dependent.
			</p>
			<p xmlns="urn:schemas-cosylab-com:Document">
				The 3rd part software is located in <span xmlns="" class="bold">VDCTROOT/3rdParty</span> directory.
				All 3rd party software, discussed in this section, is then installed into <tt xmlns="" class="filename">3rdParty</tt> subdirectory in the following manner:
				<ul>
					<li>
						A directory <span xmlns="" class="bold"><tt class="filename">VDCTROOT/3rdParty/Common</tt></span> contains the platform-independent software.
					</li>
					<li>
						A directory <span xmlns="" class="bold"><tt class="filename">VDCTROOT/3rdParty/Win32</tt></span> contains the platform-dependent software for Windows platform.
					</li>
					<li>
						A directory <span xmlns="" class="bold"><tt class="filename">VDCTROOT/3rdParty/Linux</tt></span> contains the platform-dependent software for Linux platform.
					</li>
					<li>
						A directory <span xmlns="" class="bold"><tt class="filename">VDCTROOT/3rdParty/SunOS</tt></span> contains the platform-dependent software for Solaris platform.
					</li>
					<li>
						A directory <span xmlns="" class="bold"><tt class="filename">VDCTROOT/3rdParty/HP-UX</tt></span> contains the platform-dependent software for HP-UX platform.
					</li>
					<li>
						...
					</li>
				</ul>
			</p>
			<p xmlns="urn:schemas-cosylab-com:Document">
				Platform name is defined by the returned value of <tt xmlns="" class="command">uname</tt> POSIX command.
			</p>
			<p xmlns="urn:schemas-cosylab-com:Document">
				Under each directory enumerated above, each 3rd party product is installed into its own directory.
				The name of the directory is a lower-case product name, followed by a '-' character, followed by a version specification in which dot '.' servers as major / minor separator (e.g. <tt xmlns="" class="filename">mmmysql-2.0.11</tt>).<br/>
			</p>
			<p xmlns="urn:schemas-cosylab-com:Document">
				Every 3rd party product has to have the following directory structure (created if necessary):
						<ul>
							<li>
								A directory <span xmlns="" class="bold"><tt class="filename">src</tt></span> contains all the sources (e.g. <tt xmlns="" class="filename">java, cpp, c, py</tt> files).
							</li>
							<li>
								A directory <span xmlns="" class="bold"><tt class="filename">include</tt></span> contains all the includes  (e.g. <tt xmlns="" class="filename">h, hpp</tt> files).
							</li>
							<li>
								A directory <span xmlns="" class="bold"><tt class="filename">test</tt></span> contains all necessary test files and scripts.
							</li>
							<li>
								A directory <span xmlns="" class="bold"><tt class="filename">idl</tt></span> contains all interface definition files (e.g. <tt xmlns="" class="filename">idl, midl</tt> files).
							</li>
							<li>
								A directory <span xmlns="" class="bold"><tt class="filename">lib</tt></span> contains all libraries and also libraries built from sources (e.g. <tt xmlns="" class="filename">so, a, dll</tt> files).
							</li>
							<li>
								A directory <span xmlns="" class="bold"><tt class="filename">bin</tt></span> contains all binaries and also binaries built from sources.
							</li>
							<li>
								A directory <span xmlns="" class="bold"><tt class="filename">object</tt></span> contains all (temporary) object files.
							</li>
							<li>
								A directory <span xmlns="" class="bold"><tt class="filename">doc</tt></span> contains all documentation.
							</li>
							<li>
								A directory <span xmlns="" class="bold"><tt class="filename">man</tt></span> contains all manual pages.
							</li>
						</ul>
			</p>
			<p xmlns="urn:schemas-cosylab-com:Document">
				3rd party directory structure is used in build files and batches for running programs.
			</p>
		
		
		<a name="eclipse" href="#toc">
<h1>3. &nbsp;Eclipse installation</h1>
</a>
			<p xmlns="urn:schemas-cosylab-com:Document">
				This section lists the steps needed to install Eclipse product and get it working with VisualDCT project.
				This section presupposes that Java Development Kit has already been installed.
			</p>
			<ol xmlns="urn:schemas-cosylab-com:Document">	
				<li>
					Install Eclipse 2.0 or WebSphere into some directory.
				</li>
				<li>
					Set the <tt xmlns="" class="identifier">PATH</tt> environment variable to point to the subdirectory where the JDK (not JRE, but full JDK) is installed.
					The path should point to the <tt xmlns="" class="filename">bin</tt> subdirectory of the JDK.
				</li>
				<li>
					Go to <span xmlns="" class="menu">&nbsp;&nbsp;Window&nbsp;&nbsp;</span>-<span xmlns="" class="menu">&nbsp;&nbsp;Preferences&nbsp;&nbsp;</span> menu in Eclipse and select <span xmlns="" class="menu">&nbsp;&nbsp;Java&nbsp;&nbsp;</span>-<span xmlns="" class="menu">&nbsp;&nbsp;Classpath Variables&nbsp;&nbsp;</span>.
					Define two variables:
					<ul>
						<li>
							<span xmlns="" class="bold">ECLIPSE_HOME</span>. 
							Define this if it is not already defined. 
							The variable should point to directory of Eclipse (WebSphere) installation.
						</li>
					</ul>
				</li>
				<li>
					Install the necessary Eclipse extensions (in the form of fragments and plugins).
					The extensions are available on Cosylab web page.
					Plugins are installed by unzipping them to the <tt xmlns="" class="filename">ECLIPSE_HOME/plugins</tt> directory and restarting Eclipse.
					Fragments are installed by unzipping them to the <tt xmlns="" class="filename">ECLIPSE_HOME/fragments</tt> directory and restarting Eclipse.
					For more information on installing the plugins, see Eclipse documentation.
				</li>
				<li>
					If projects require Java compiler newer than that provided with Eclipse, go to Eclipse menu <span xmlns="" class="menu">&nbsp;&nbsp;Window&nbsp;&nbsp;</span>-<span xmlns="" class="menu">&nbsp;&nbsp;Preferences&nbsp;&nbsp;</span>, select <span xmlns="" class="menu">&nbsp;&nbsp;Java&nbsp;&nbsp;</span>-<span xmlns="" class="menu">&nbsp;&nbsp;Installed JREs&nbsp;&nbsp;</span> and set the appropriate Java version there.
				</li>
			</ol>
		
		
		<a name="build" href="#toc">
<h1>4. &nbsp;Build Process</h1>
</a>
			<p xmlns="urn:schemas-cosylab-com:Document">
				VisualDCT project is built with <a xmlns="" target="_blank" href="http://jakarta.apache.org/ant/index.html">Ant build tool</a>.
				Ant tool is used because it is easier to manage than makefiles and it is customized for use with Java (classpath handling, additional build tasks specified in Java, etc).
				Ant works by executing an Ant build file in the form of Ant conformant XML.
			</p>
			<p xmlns="urn:schemas-cosylab-com:Document">
				During the development process VisualDCT is build automatically by Eclipse without Ant, this way is easier and faster.
				All other tasks such as test process, integration builds and releases should be done with Ant.
			</p>
			<a name="build-files" href="#toc">
<h2>4.1. &nbsp;Manual builds</h2>
</a>
				<a name="build-files-eclipse" href="#toc">
<h3>4.1.1. &nbsp;Configuring Eclipse</h3>
</a>
					<p xmlns="urn:schemas-cosylab-com:Document">
						This section lists the steps needed to configure Eclipse product to build internal VisualDCT-Common project.
					</p>
					<ol xmlns="urn:schemas-cosylab-com:Document">	
						<li>
							Right mouse click over <span xmlns="" class="gui">&nbsp;&nbsp;VisualDCT&nbsp;&nbsp;</span> node and select <span xmlns="" class="menu">&nbsp;&nbsp;Properties&nbsp;&nbsp;</span>.
						</li>
						<li>
							Select <span xmlns="" class="gui">&nbsp;&nbsp;Libraries&nbsp;&nbsp;</span> node and click <span xmlns="" class="gui">&nbsp;&nbsp;Add Variable...&nbsp;&nbsp;</span> button.
						</li>
						<li>
							Select <span xmlns="" class="gui">&nbsp;&nbsp;ECLIPSE_HOME&nbsp;&nbsp;</span> variable and click <span xmlns="" class="gui">&nbsp;&nbsp;Add Extended...&nbsp;&nbsp;</span> button.
						</li>
						<li>
							Browse through <tt xmlns="" class="filename">plugins/org.apache.ant_&lt;ver&gt;</tt> and select <tt xmlns="" class="filename">ant.jar</tt> JAR file.
						</li>
					</ol>
					
<p class="comment">
      [<a href="mailto:matej.sekoranja@cosylab.com">Matej Sekoranja</a>]
      This is not necessary, since all these kind of settings are stored in <tt class="filename">.classpath</tt> file.</p>
					
<p class="comment">
      [<a href="mailto:matej.sekoranja@cosylab.com">Matej Sekoranja</a>]
      In Eclipse <span class="menu">&nbsp;&nbsp;Windows&nbsp;&nbsp;</span>-<span class="menu">&nbsp;&nbsp;Perferences&nbsp;&nbsp;</span>-<span class="menu">&nbsp;&nbsp;External Tools&nbsp;&nbsp;</span>-<span class="menu">&nbsp;&nbsp;Ant&nbsp;&nbsp;</span> add external task jars in classpath.</p>
					
<p class="comment">
      [<a href="mailto:matej.sekoranja@cosylab.com">Matej Sekoranja</a>]
      Ant may give the following error message:<br xmlns="urn:schemas-cosylab-com:Document"/>"Cannot use classic compiler, as it is not available. A common solution is to set the environment variable JAVA_HOME to your JDK directory."<br xmlns="urn:schemas-cosylab-com:Document"/>
								 To avoid this problem go to <span class="menu">&nbsp;&nbsp;Window&nbsp;&nbsp;</span>-<span class="menu">&nbsp;&nbsp;Preferences&nbsp;&nbsp;</span>-<span class="menu">&nbsp;&nbsp;Ant&nbsp;&nbsp;</span>-<span class="menu">&nbsp;&nbsp;Customize&nbsp;&nbsp;</span> and add <tt class="filename">tools.jar</tt>
<br xmlns="urn:schemas-cosylab-com:Document"/> or <br xmlns="urn:schemas-cosylab-com:Document"/>
								 run the Ant script with argument <tt class="identifier">-Dbuild.compiler=org.eclipse.jdt.core.JDTCompilerAdapter</tt> tu run Ant with Eclipse's JRE.</p>
				
				
				
<a name="config-ant" href="#toc">
<h3>4.1.2. &nbsp;Configuring Ant</h3>
</a>
					<p xmlns="urn:schemas-cosylab-com:Document">
						This section lists the steps needed to install Ant product and get it working with VisualDCT project.
						This section presupposes that Java Development Kit has already been installed.
					</p>
					<ol xmlns="urn:schemas-cosylab-com:Document">	
						<li>
							Install Ant into some directory.
						</li>
						<li>
							Set the <tt xmlns="" class="identifier">PATH</tt> environment variable to point to the subdirectory where the Ant is installed.
							The path should point to the <tt xmlns="" class="filename">bin</tt> subdirectory of the Ant.
						</li>
						<li>
							Ant requires <tt xmlns="" class="identifier">JAVA_HOME</tt> environment variable to point to the subdirectory where the JRE is installed.
						</li>
						<li>
							Add external task libraries to Ant classpath. This can be done by:
							<ul>
							  <li>passing additional classpath <tt xmlns="" class="identifier">-cp</tt> parameter with necessary jars to JRE when running Ant, or</li>
							  <li>copying all necessary jars to <tt xmlns="" class="filename">&lt;Ant root&gt;/lib</tt> directory and running Ant with scripts located in <tt xmlns="" class="filename">&lt;Ant root&gt;/bin</tt> directory, which do this automatically.</li>
							</ul>
						</li>
					</ol>
					<p xmlns="urn:schemas-cosylab-com:Document">
						VisualDCT Ant build scripts need the following external task libraries:
						<ul>
						  <li><a xmlns="" target="_blank" href="http://sourceforge.net/projects/junit/">JUnit Testing Framework</a>
</li>
						  <li><a xmlns="" target="_blank" href="http://visualdct.cosylab.com/VisualDCT-Common/">VisualDCT-Common</a>
</li>
						</ul>
					</p>
					<p xmlns="urn:schemas-cosylab-com:Document">
						And some optional, necessary to do VisualDCT integration builds and releases: 
						<ul>
						  <li><a xmlns="" target="_blank" href="http://www.langdale.com.au/styler/">Styler ANT Task</a>
</li>
						  <li><a xmlns="" target="_blank" href="http://sourceforge.net/projects/mmmysql/">MySQL JDBC driver</a>
</li>
						</ul>
					</p>
					<p xmlns="urn:schemas-cosylab-com:Document">
					All necessary libraries are located in <tt xmlns="" class="filename">3rdparty</tt> directory.
					</p>
				

				<a name="build-files-xml" href="#toc">
<h3>4.1.3. &nbsp;Writing Ant build file</h3>
</a>
				
				<p xmlns="urn:schemas-cosylab-com:Document">
					In order to build the VisualDCT project manually, the developer responsible for the project must write the <tt xmlns="" class="filename">build.xml</tt> file and place it in the root directory of the project.
					This file must:
					<ul>
						<li>
							Set some properties required by the <tt xmlns="" class="filename">VDCTBuild.xml</tt> master build file.
						</li>
						<li>
							Set the classpath required by the build process.	
						</li>
						<li>
							Call the targets within the master build file to produce the actual build.
							Which targets are called depends on the nature of the project. 
							If the project is a production project, the usual targets will be <tt xmlns="" class="keyword">all</tt> or <tt xmlns="" class="keyword">jar</tt>.
							
						</li>
					</ul>
				</p>
				<p xmlns="urn:schemas-cosylab-com:Document">
					For more insight, a sample <tt xmlns="" class="filename">build.xml</tt> file is provided below.
					<pre xmlns="" language="xml" id="build.xml">
&lt;project name="VisualDCT sample build example" default="all" basedir="."&gt;

	&lt;property name="project.name" value="${ant.project.name}"/&gt;

	&lt;property name="test.class" value="com.cosylab.vdct.sample.test.AllTests"/&gt;
	&lt;property name="javadoc.packages" value="com.cosylab.vdct.sample"/&gt;
	
	&lt;path id="build.classpath"&gt;
		&lt;pathelement location="./3rdParty/Common/infobus1.2/infobus.jar"/&gt;
		&lt;pathelement location="./3rdParty/Common/jnlp1.0.1/jnlp.jar"/&gt;
	&lt;/path&gt;
	
	&lt;property name="build.classpath.ext" refid="build.classpath"/&gt;
	
	&lt;target name="release"&gt;
		&lt;ant antfile="VDCTBuild.xml" dir="." target="release"/&gt;
	&lt;/target&gt;
	
	&lt;target name="build"&gt;
		&lt;ant antfile="VDCTBuild.xml" dir="." target="build"/&gt;
	&lt;/target&gt;

	&lt;target name="all"&gt;
		&lt;ant antfile="VDCTBuild.xml" dir="." target="all"/&gt;
	&lt;/target&gt;

	&lt;target name="jar"&gt;
		&lt;ant antfile="VDCTBuild.xml" dir="." target="jar"/&gt;
	&lt;/target&gt;

	&lt;target name="doc"&gt;
		&lt;ant antfile="VDCTBuild.xml" dir="." target="doc"/&gt;
	&lt;/target&gt;
	
&lt;/project&gt;
					</pre>
					<p>
					Here we provide a brief discussion of the sample build file:
					</p>
					<ul>
						<li>
							In the first line, we specify the project name.
							We also specify the default target, i.e. the build target that will be marked as default when Ant build file is started.
						</li>
						<li>
							The next line which defines the property <tt xmlns="" class="identifier">project.name</tt> is <span xmlns="" class="bold">mandatory</span> and must not be changed. 
							It cannot be moved to the master build file.
						</li>
						<li>
							Property <tt xmlns="" class="identifier">test.class</tt> defines the java class that contains automatic tests, as defined by JUnit testing framework.
							No automatic tests are performed if this property is not set.
						</li>
						<li>
							Property <tt xmlns="" class="identifier">javadoc.packages</tt> defines the package names of all packages, for which javadoc documentation will be generated.
							No javadocs are generated if this property is not set.
						</li>
						<li>
							In the next few lines, the classpath is defined. 
							Classpath should specify all directories, files and jar files (as described in Ant documentation) for the classes used during the build process.
							Default build directory and java classpath as well as classpath for JUnit are already included in the master build file.
							In this place, specify only the classpaths for additional classes used by the project.
						</li>
						<li>
							The next line, setting the <tt xmlns="" class="identifier">build.classpath.ext</tt> property is <span xmlns="" class="bold">mandatory</span> and must not be changed.						
						</li>
						<li>
							The remaining lines define the targets for <tt xmlns="" class="filename">build.xml</tt> file simply by delegation to the master build file <tt xmlns="" class="filename">VDCTBuild.xml</tt>.
							The project developer decides which targets to define in the <tt xmlns="" class="filename">build.xml</tt> file depending on the nature of the project.
							In this example we specify target <tt xmlns="" class="keyword">release</tt> which makes a complete distribution. 
							Other targets from <tt xmlns="" class="filename">VDCTBuild.xml</tt> could be called as easily and completely new targets could be defined as well.
						</li>
					</ul>
				</p>
				<a name="build-versioning-filenames" href="#toc">
<h4>4.1.3.1. &nbsp;Versioning and file names</h4>
</a>
				<p xmlns="urn:schemas-cosylab-com:Document">
					VisualDCT Ant build script <tt xmlns="" class="filename">VDCTBuild.xml</tt> has auto-versioning capability. Script searches for the past builds thourch the directory structure and returns build version. 
					If <tt xmlns="" class="identifier">build</tt> or <tt xmlns="" class="identifier">release</tt> target is used, it generates a new version, otherwise the latest is used. This feature can be also overriden by setting <tt xmlns="" class="identifier">build.version</tt> property
					as described in <a xmlns="" href="#build-params">Build Parameters</a> section. 
				</p>
				<p xmlns="urn:schemas-cosylab-com:Document">
				Version is composed of major, minor and build version. All three components are numbers and are seperated by a dot '.', e.g. <tt xmlns="" class="identifier">2.0.1232</tt>.
				Also filenames follows the <tt xmlns="" class="filename">&lt;project name&gt;-&lt;type&gt;-&lt;version&gt;.&lt;ext&gt;</tt> convention, where type can be <tt xmlns="" class="identifier">src, doc, dist</tt>,
				e.g. <tt xmlns="" class="filename">VisualDCT-doc-2.0.1232.zip</tt>
<br/>
				The only exception is a binary file, which is composed of <tt xmlns="" class="filename">&lt;project name&gt;.&lt;ext&gt;</tt>, e.g. <tt xmlns="" class="filename">VisualDCT.jar</tt>
				</p>
				
				<a name="build-params" href="#toc">
<h4>4.1.3.2. &nbsp;Build Parameters</h4>
</a>
					<p xmlns="urn:schemas-cosylab-com:Document">
						In order for the build process to work correctly, two parameters must be provided to the JVM or ANT using the <tt xmlns="" class="command">-D</tt> parameter passing mechanism.
						<ul>
							<li>
								<span xmlns="" class="bold">build.output</span> - Set this property to point to the directory that will contain the results of the build process.
							<li>
							</li>
								<tt xmlns="" class="identifier">build.version</tt> - Set this property to override automatical versioning (optional, used rarely).
							</li>
						</ul>
					</p>
					<p xmlns="urn:schemas-cosylab-com:Document">
						For example, if target directory is <tt xmlns="" class="identifier">~/dist</tt> and version <tt xmlns="" class="identifier">2.0.1232</tt>, the parameters for the JVM look like this:
						<p>
							<tt xmlns="" class="command">-Dbuild.output=~/dist -Dbuild.version=2.0.1232</tt>
						</p>
					</p>
					<p xmlns="urn:schemas-cosylab-com:Document">
						Parameters can be also provided by hardcoding it into <tt xmlns="" class="filename">build.xml</tt> file simply by adding lines:
						<pre xmlns="" language="xml" id="build.ouput">&lt;property name="build.output" value="~/dist"/&gt;<br xmlns="urn:schemas-cosylab-com:Document"/>&lt;property name="build.version" value="2.0.1232"/&gt;</pre>
					</p>
				
				
<a name="build-targets" href="#toc">
<h4>4.1.3.3. &nbsp;Build Targets</h4>
</a>
					<p xmlns="urn:schemas-cosylab-com:Document">
					VisualDCT Ant build script <tt xmlns="" class="filename">VDCTBuild.xml</tt> has defined the following targets:
					<ul>
					  <li><span xmlns="" class="bold">jar</span> - builds Java ARchive (jar) file, i.e. java binaries.</li>
					  <li>*<span xmlns="" class="bold">all</span> - builds all (jar, tests, source jar, docs, web content)</li>
					  <li>*<span xmlns="" class="bold">build</span> - builds new integration build (generates new build version, jar, tests, source jar, docs, full web content)</li>
					  <li>*<span xmlns="" class="bold">release</span> - builds new release (generates new build version, jar, tests, source jar, docs, full web content)</li>
					  
					</ul>
					</p>
					
<p class="comment">
      [<a href="mailto:matej.sekoranja@cosylab.com">Matej Sekoranja</a>]
      * - to be used only by Cosylab.</p>
					<p xmlns="urn:schemas-cosylab-com:Document">
					</p>
				
				
				
	
		
		
		
<a name="conclusion" href="#toc">
<h1>5. &nbsp;Conclusion</h1>
</a>
			<p xmlns="urn:schemas-cosylab-com:Document">
				This document will probably change in the future.
				When known, the explicit WWW locations will be included.
			</p>
		
	
<br>
<br>
<p align="center">
<table background="../../Common/Documentation/images/Cosylab.png" width="100%" border="0">
<tr height="25px">
<td></td>
</tr>
</table>
</p>
</body>
</html>
